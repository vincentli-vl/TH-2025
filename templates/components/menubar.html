<!-- Menubar with Submenus, Checkbox, Radio Items -->
<div class="relative z-50">
    <div class="flex h-9 items-center gap-1 rounded-md border p-1 shadow bg-white text-black dark:bg-neutral-900 dark:text-white">
      <!-- File Menu -->
      <div class="relative group">
        <button
          type="button"
          class="menubar-trigger px-2 py-1 text-sm font-medium rounded-sm select-none focus:bg-gray-100 data-[open]:bg-gray-100"
          data-menu-trigger
          data-target="file-menu"
        >
          File
        </button>
        <div
          id="file-menu"
          class="menubar-content absolute top-full left-0 mt-2 min-w-[12rem] bg-white text-black dark:bg-neutral-800 dark:text-white border rounded-md shadow-md hidden group-[data-open]:(block)"
          data-menu
        >
          <button class="menubar-item w-full text-left px-2 py-1.5 text-sm hover:bg-gray-100">New Tab</button>
          <button class="menubar-item w-full text-left px-2 py-1.5 text-sm hover:bg-gray-100">New Window</button>
          <div class="h-px my-1 bg-gray-200 dark:bg-neutral-700"></div>
          <label class="relative flex items-center px-2 py-1.5 text-sm cursor-pointer hover:bg-gray-100">
            <input type="checkbox" class="sr-only" id="checkbox-1" />
            <span class="absolute left-2">
              <svg class="w-4 h-4 hidden checked-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-width="2" d="M5 13l4 4L19 7" />
              </svg>
            </span>
            <span class="pl-6">Show Bookmarks Bar</span>
          </label>
          <div class="h-px my-1 bg-gray-200 dark:bg-neutral-700"></div>
          <!-- Submenu -->
          <div class="relative group">
            <button
              type="button"
              class="menubar-item w-full text-left px-2 py-1.5 text-sm hover:bg-gray-100 flex justify-between items-center"
              data-submenu-trigger
              data-target="import-submenu"
            >
              Import
              <svg class="w-4 h-4 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </button>
            <div
              id="import-submenu"
              class="menubar-sub-content absolute left-full top-0 ml-2 min-w-[8rem] bg-white text-black dark:bg-neutral-800 dark:text-white border rounded-md shadow-md hidden"
              data-submenu
            >
              <button class="w-full text-left px-2 py-1.5 text-sm hover:bg-gray-100">From HTML</button>
              <button class="w-full text-left px-2 py-1.5 text-sm hover:bg-gray-100">From Markdown</button>
            </div>
          </div>
        </div>
      </div>
  
      <!-- View Menu -->
      <div class="relative group">
        <button
          type="button"
          class="menubar-trigger px-2 py-1 text-sm font-medium rounded-sm select-none focus:bg-gray-100"
          data-menu-trigger
          data-target="view-menu"
        >
          View
        </button>
        <div
          id="view-menu"
          class="menubar-content absolute top-full left-0 mt-2 min-w-[12rem] bg-white text-black dark:bg-neutral-800 dark:text-white border rounded-md shadow-md hidden"
          data-menu
        >
          <!-- Radio Group -->
          <fieldset class="flex flex-col gap-1 px-2 py-1.5 text-sm">
            <legend class="text-xs font-semibold mb-1">Zoom</legend>
            <label class="flex items-center gap-2 cursor-pointer">
              <input type="radio" name="zoom" value="reset" class="peer hidden" checked />
              <span class="peer-checked:text-blue-600">Reset</span>
            </label>
            <label class="flex items-center gap-2 cursor-pointer">
              <input type="radio" name="zoom" value="in" class="peer hidden" />
              <span class="peer-checked:text-blue-600">Zoom In</span>
            </label>
          </fieldset>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Tailwind-based JS -->
  <script>
    // Toggle Menus
    document.querySelectorAll("[data-menu-trigger]").forEach((btn) => {
      btn.addEventListener("click", (e) => {
        e.stopPropagation();
        const menu = document.getElementById(btn.dataset.target);
        closeAllMenus();
        menu.classList.toggle("hidden");
        btn.setAttribute("data-open", !menu.classList.contains("hidden"));
      });
    });
  
    // Toggle Submenus
    document.querySelectorAll("[data-submenu-trigger]").forEach((btn) => {
      btn.addEventListener("mouseenter", () => {
        closeAllSubmenus(btn.closest("[data-menu]"));
        const submenu = document.getElementById(btn.dataset.target);
        submenu.classList.remove("hidden");
      });
    });
  
    // Close menus when clicking outside
    document.addEventListener("click", () => {
      closeAllMenus();
    });
  
    function closeAllMenus() {
      document.querySelectorAll("[data-menu]").forEach((el) => el.classList.add("hidden"));
      document.querySelectorAll("[data-menu-trigger]").forEach((btn) => btn.removeAttribute("data-open"));
    }
  
    function closeAllSubmenus(menuEl) {
      menuEl?.querySelectorAll("[data-submenu]").forEach((el) => el.classList.add("hidden"));
    }
  
    // Checkbox visual toggle
    document.querySelectorAll("input[type=checkbox]").forEach((checkbox) => {
      const icon = checkbox.parentElement.querySelector(".checked-icon");
      const updateIcon = () => {
        if (checkbox.checked) icon?.classList.remove("hidden");
        else icon?.classList.add("hidden");
      };
      checkbox.addEventListener("change", updateIcon);
      updateIcon(); // Init
    });
  </script>
  